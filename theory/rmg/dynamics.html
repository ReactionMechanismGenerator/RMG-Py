
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>3. Dynamics Criterion &#8212; RMG-Py 3.3.0 Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Pressure-Dependence Theory Guide" href="../pdep/index.html" />
    <link rel="prev" title="2. Prune Edge Species" href="prune.html" />
<script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
  MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
    ce: ["Extension","mhchem"],
  });
});
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pdep/index.html" title="Pressure-Dependence Theory Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="prune.html" title="2. Prune Edge Species"
             accesskey="P">previous</a> |</li>
  <li><a href="https://rmg.mit.edu/">RMG</a> &raquo;</li>
  <li><a href="../../index.html">3.3.0 Documentation</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Theory Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">RMG Theory Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3. </span>Dynamics Criterion</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="dynamics-criterion">
<span id="dynamics"></span><h1><span class="section-number">3. </span>Dynamics Criterion<a class="headerlink" href="#dynamics-criterion" title="Permalink to this heading">¶</a></h1>
<p>When dealing with more complex chemical mechanisms the standard RMG flux criterion
has trouble picking up key chain branching reactions and has limited guarantees
that it accurately represents the concentrations of all species.  The dynamics
criterion is a measure of how much a given reaction affects core concentrations.
This allows it to pick up key low-flux chain branching reactions and better represent
species concentrations.</p>
<section id="calculating-the-dynamics-criterion">
<h2><span class="section-number">3.1. </span>Calculating the Dynamics Criterion<a class="headerlink" href="#calculating-the-dynamics-criterion" title="Permalink to this heading">¶</a></h2>
<p>Let us define rates of production <span class="math notranslate nohighlight">\(P_i(t)\)</span> and consumption <span class="math notranslate nohighlight">\(L_i(t)\)</span> for a given species
<span class="math notranslate nohighlight">\(\frac{dc_i}{dt} = P_i(t) - L_i(t)\)</span></p>
<p>Let us define a dimensionless concentration variable we will refer to as the
accumulation number Ac for a given species</p>
<p><span class="math notranslate nohighlight">\(Ac_{spc,i} = \frac{P_i}{L_i} \approx \frac{\bar{c_{i}}}{c_{i0}}\)</span></p>
<p>where <span class="math notranslate nohighlight">\(\bar{c_i}\)</span> is the steady state concentration or more specifically the
concentration at which <span class="math notranslate nohighlight">\(P_i = L_i\)</span> assuming <span class="math notranslate nohighlight">\(L_i\)</span> scales with <span class="math notranslate nohighlight">\(c_i\)</span>
and <span class="math notranslate nohighlight">\(c_{i0}\)</span> is the current concentration.</p>
<p>This species accumulation number is a measure of how far species i is from steady state.</p>
<p>Since this number can only be calculated for core species, by itself it is only a
measure of the behavior of species i within the reaction network.</p>
<p>However if we consider models with and without some edge reaction j we can define</p>
<p><span class="math notranslate nohighlight">\(\Pi_{Ac,i,j} = \frac{Ac_{spc,i,withj}}{Ac_{spc,i,withoutj}}\)</span></p>
<p>Which is a measure of how much the concentration of species i is impacted by
reaction j.</p>
<p>In order to directly compare multiple reactions we can then sum over all
core species involved in reaction j to get our criterion the dynamics number.</p>
<p><span class="math notranslate nohighlight">\(\sum_{i\in core} |Ln(\Pi_{Ac,i,j})| = Dy &gt; \epsilon\)</span></p>
</section>
<section id="surface-algorithm">
<h2><span class="section-number">3.2. </span>Surface Algorithm<a class="headerlink" href="#surface-algorithm" title="Permalink to this heading">¶</a></h2>
<p>One common issue with the dynamics criterion is that it treats all core species equally.
Because of this, if the dynamics criterion is set too low it enters a feedback loop where
it adds species and then since it can’t get those species’ concentrations right it adds
more species and so on. In order to avoid this feedback loop the surface algorithm was developed.
It creates a new partition called the <em>surface</em> that is considered part of the core.  We will
refer to the part of the core that is not part of the surface as the <em>bulk core</em>.  When
operating without the dynamics criterion everything moves from edge to the bulk core as usual;
however the dynamics criterion is managed differently.  When using the surface algorithm most
reactions pulled in by the dynamics criterion enter the surface instead of the bulk core.
However, unlike movement to bulk core a constraint is placed on movement to the surface.
Any reaction moved to the surface must have either both reactants or both products
in the bulk core.  This prevents the dynamics criterion from pulling in reactions
to get the concentrations of species in the surface right avoiding the feedback loop.
To avoid important species being trapped in the surface we also add criteria
for movement from surface to bulk core based on flux or dynamics criterion.
However, to avoid important species being trapped in the surface we also add criteria
for movement from surface to bulk core based on flux or dynamics criterion.</p>
<figure class="align-default">
<img alt="../../_images/surfacediagram.png" src="../../_images/surfacediagram.png" />
</figure>
</section>
<section id="key-parameters-for-dynamics-criterion-and-surface-algorithm">
<h2><span class="section-number">3.3. </span>Key Parameters for Dynamics Criterion and Surface Algorithm<a class="headerlink" href="#key-parameters-for-dynamics-criterion-and-surface-algorithm" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">toleranceMoveEdgeReactionToCore</span></code></p>
<p>An edge reaction will be pulled directly into the bulk core if its dynamics number
ever exceeds this value.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">toleranceMoveEdgeReactionToSurface</span></code></p>
<p>An edge reaction will be pulled into the surface if its dynamics number
ever exceeds this value.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">toleranceMoveEdgeReactionToCoreInterrupt</span></code></p>
<p>When any reaction’s dynamics number exceeds this value the simulation will be interrupted.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">toleranceMoveEdgeReactionToSurfaceInterrupt</span></code></p>
<p>When the dynamics number of any reaction that would be valid for movement to the surface
exceeds this value the simulation will be interrupted</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">toleranceMoveSurfaceReactionToCore</span></code></p>
<p>A surface reaction will be pulled into the bulk core if its dynamics number
ever exceeds this value.  Note this is done on the fly during simulation.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">toleranceMoveSurfaceSpeciesToCore</span></code></p>
<p>A surface species will be pulled into the bulk core if it’s rate ratio
ever exceeds this value.  Note this is done on the fly during simulation.</p>
</li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
    <div class="sphinxsidebarwrapper">
        <div class="sidebarlogo"><a href="../../index.html">
            <img src="../../_static/rmg-logo-small.png" alt="RMG" />
        </a></div>
      <div id="sidebar">
        <div id="rmgsidebar">
          <a href="https://rmg.mit.edu">
            <div class="menuitem">
              <img src="../../_static/rmg-icon.png" class="icon" width="100%"/>
              <div class="menutext menutitle">RMG Website</div>
              <div class="menutext menudesc">Interactive website for RMG-Py</div>
            </div>
          </a>
          <a href="https://github.com/ReactionMechanismGenerator/RMG-Py">
            <div class="menuitem">
              <img src="../../_static/github-icon.png" class="icon" width="100%"/>
              <div class="menutext menutitle">RMG GitHub</div>
              <div class="menutext menudesc">View source and post issues</div>
            </div>
          </a>
        </div>
        <div class="menuitem">
  <div>
    <h3><a href="../../contents.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">3. Dynamics Criterion</a><ul>
<li><a class="reference internal" href="#calculating-the-dynamics-criterion">3.1. Calculating the Dynamics Criterion</a></li>
<li><a class="reference internal" href="#surface-algorithm">3.2. Surface Algorithm</a></li>
<li><a class="reference internal" href="#key-parameters-for-dynamics-criterion-and-surface-algorithm">3.3. Key Parameters for Dynamics Criterion and Surface Algorithm</a></li>
</ul>
</li>
</ul>

  </div>
        </div>
        <div class="menuitem">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="prune.html"
                          title="previous chapter"><span class="section-number">2. </span>Prune Edge Species</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../pdep/index.html"
                          title="next chapter">Pressure-Dependence Theory Guide</a></p>
  </div>
        </div>
        <div class="menuitem">
<div role="note" aria-label="source link">
    <h3>This Page</h3>
        <ul class="this-page-menu">
            <li><a href="https://github.com/ReactionMechanismGenerator/RMG-Py/issues">Report A Bug</a></li>
            <li><a href="https://github.com/ReactionMechanismGenerator/RMG-Py/blob/main/documentation/source/theory/rmg/dynamics.rst"
                   rel="nofollow">View Source</a></li>
        </ul>
</div>
        </div>
        <div class="menuitem">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../pdep/index.html" title="Pressure-Dependence Theory Guide"
             >next</a> |</li>
        <li class="right" >
          <a href="prune.html" title="2. Prune Edge Species"
             >previous</a> |</li>
  <li><a href="https://rmg.mit.edu/">RMG</a> &raquo;</li>
  <li><a href="../../index.html">3.3.0 Documentation</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Theory Guide</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >RMG Theory Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3. </span>Dynamics Criterion</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2002-2025, William H. Green, Richard H. West, and the RMG Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-24556433-3");
    pageTracker._trackPageview();
  } catch(err) {}
</script>

  </body>
</html>